{"componentChunkName":"component---src-templates-post-template-tsx","path":"/react/useEffect/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>들어가며</h1>\n<blockquote>\n<p>useEffect라는 Hook을 사용하여 컴포넌트가 마운트 됐을 때 (처음 나타났을 때), 언마운트 됐을 때(사라질 때), 그리고 업데이트 될 때 (특정 props가 바뀔 때) 특정 작업을 처리하는 방법 정리하였습니다.</p>\n</blockquote>\n<h2>마운트 / 언마운트</h2>\n<blockquote>\n<p>컴포넌트의 마운트, 언마운트 관리하기</p>\n</blockquote>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"one-dark\"  >\n          <code slot=\"code\">useEffect(() =&gt; {\r\n\tconsole.log(&#39;컴포넌트가 화면에 나타남&#39;);\r\n\treturn () =&gt; {\r\n\t\tconsole.log(&#39;컴포넌트가 화면에서 사라짐.&#39;);\r\n\r\n}, []);</code>\n        </deckgo-highlight-code>\n<p><code>useEffect</code> 의 첫번째 인자는 함수, 두번째 인자는 배열 (<code>deps</code>) 넣으면 됨.</p>\n<p>배열에 조건이 없는 경우 컴포넌트가 마운트 됐을 때만 <code>useEffect</code>에 등록한 함수가 호출 됨.</p>\n<p><code>useEffect</code> 에서는 함수(<code>cleanup</code>)를 반환할 수 있고 이 함수는 <code>useEffect</code> 에 대한 뒷정리를 해주는데 <code>deps</code> 가 비어있는 경우 컴포넌트가 사라질 때 호출 됨. <code>componentDidUnMount</code> 역할을 함</p>\n<p>마운트 시에 주로하는 작업</p>\n<ul>\n<li><code>props</code> 로 받은 컴포넌트의 로컬 상태로 설정</li>\n<li>외부 API 요청 (REST API 등)</li>\n<li><mark>라이브러리 사용</mark> (D3, Video.js 등)</li>\n<li>setInterval 을 통한 반복작업 혹은 setTimeout 을 통한 작업 예약</li>\n</ul>\n<p>언마운트 시에 하는 작업</p>\n<ul>\n<li>setInterval, setTimeout 을 사용하여 등록한 작업들 clear 하기 (clearInterval, clearTimeout)</li>\n<li>라이브러리 인스턴스 제거</li>\n</ul>\n<h2>deps에 특정 조건 넣기</h2>\n<p>배열에 요소가 있으면 <code>componentDidMount</code> + <code>componentDidUpdate</code> 역할을 함</p>\n<p>컴포넌트가 처음 마운트 될 때, 지정한 값이 바뀔 때, 언마운트 될 때 호출됨.</p>\n<p><code>useEffect</code> 안에서 사용하는 <code>props</code> 가 있는 경우 <code>useEffect</code> 의 <code>deps</code> 에 넣어주어야함. 아니면 <code>props</code> 가 최신상태를 유지하지 못함.</p>\n<p>배열(<code>deps</code>) 인자에 <code>state</code> 말고도 모든 업데이트 조건 추가 가능</p>\n<h2>deps 파라미터 생략하기</h2>\n<p><code>deps</code> 를 생략하는 경우 컴포넌트가 리렌더링 될 떄 마다 호출됨.</p>","frontmatter":{"title":"[React] useEffect","date":"20 Mar, 2022","categories":["React"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuElEQVQozyWSa09TBwCGz69Ysg+bzJZCL6ftac+VA6UUsGXYAi2lY1oLxXq4bFYtt1aQoCBiu05INxGESRhukuHMku3D9C8s8cOW7PJjngX99H578ubJIxwdVnmyu869zTnubcxx6/Y0axtzVFZLTNy0yFhjpAs58l8UKM3PMFuaZKxwhY5EHLuqck4KIJom4ViUUDSKUK0vc//BAvc35llZvUGtdpvG4xpTi7OkrTwD41m60kmCsQt0DiaYKlpctXKovd20ahouwyAQ6sAtK+jhLoTHO5s0tu9Sf7jIzvYKr179yPPTE05+Oub05XP2D/f4+tttKut3CaXStMXj74AeXeYjp5MmjweXLCMqGm1nwI3GFkvrFX453uL1zwf8+/efvH37BzvP9liqVlnZXKO4vMRMuUy2eJPedJrLuc8YSg9i83o5L3qx+/w0+wO4VR3hu+N9ltYWeHHU4NeXR/zw4nv+++cvfnvzO8u1r3i0f8Cjp/vUn+xS294ik/2cUG8XwyNJIrELtEciuGQFm1/mvD+I8OX8NLnpHKXyLU6Pd7ls5bkyOUG1/pCV9VUKN4qMTVlkCxNEBxK0yjJKh0kimSAzOky0v4/moEZzQHn3Utg9PCQ5nsW6fo3KnTKfZlK4DYVWxU9L0IfXUImPpElkRvAaBnavF7MzRG9/H7F4P46Agj2o0+QWcWkmQv2bBteKk+Qnc5QrJbJXz4QruGSJFsmH3SfS5HbxscuJTRSRNAXFNGmLdKOGw7Rq7TiCOjZfAIdsIBjRHoZGBxnKXGR6psDs3HX6hgaQTB2PKiNqKuJZHsr79Wk6ckcIORRGNNrpHhjG1x6mSZT40N6C0Cz5kEwVtdPgYnIQa6pAvpCnP5VCi/QgGiYt8ntHjqCKU9ERdROPbmL0xEhdyuKQgnzwiY1zTjf/A8Vil3Uvy4jrAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/9d1a7419690846f36f1f508cfad1a6e0/fdc73/useEffect.png","srcSet":"/static/9d1a7419690846f36f1f508cfad1a6e0/3d9cb/useEffect.png 183w,\n/static/9d1a7419690846f36f1f508cfad1a6e0/e9c2e/useEffect.png 365w,\n/static/9d1a7419690846f36f1f508cfad1a6e0/fdc73/useEffect.png 730w","sizes":"(min-width: 730px) 730px, 100vw"},"sources":[{"srcSet":"/static/9d1a7419690846f36f1f508cfad1a6e0/80a11/useEffect.webp 183w,\n/static/9d1a7419690846f36f1f508cfad1a6e0/2e3bd/useEffect.webp 365w,\n/static/9d1a7419690846f36f1f508cfad1a6e0/e25d7/useEffect.webp 730w","type":"image/webp","sizes":"(min-width: 730px) 730px, 100vw"}]},"width":730,"height":382}}}}}}]}},"pageContext":{"slug":"/react/useEffect/"}},"staticQueryHashes":["3764592887"]}