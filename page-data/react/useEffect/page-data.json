{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/react/useEffect/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>들어가며</h1>\n<blockquote>\n<p>useEffect라는 Hook을 사용하여 컴포넌트가 마운트 됐을 때 (처음 나타났을 때), 언마운트 됐을 때(사라질 때), 그리고 업데이트 될 때(특정 props가 바뀔 때) 해당 작업을 처리하는 방법 정리해보았다.</p>\n</blockquote>\n<h2>마운트 / 언마운트</h2>\n<blockquote>\n<p>컴포넌트의 마운트, 언마운트 관리하기</p>\n</blockquote>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"one-dark\"  >\n          <code slot=\"code\">useEffect(() =&gt; {\n\tconsole.log(&#39;컴포넌트가 화면에 나타남&#39;);\n\treturn () =&gt; {\n\t\tconsole.log(&#39;컴포넌트가 화면에서 사라짐&#39;);\n\t}\n}, []);</code>\n        </deckgo-highlight-code>\n<p><code>useEffect</code>의 첫번째 인자는 함수(<code>effect</code>), 두번째 인자는 배열(<code>deps</code>)이 들어간다.</p>\n<p>배열에 조건이 없는 경우에는 컴포넌트가 마운트 됐을 때만 <code>useEffect</code>에 등록한 함수가 호출된다.</p>\n<p><code>useEffect</code>에서는 함수(<code>cleanup</code>)를 반환할 수 있고 이 함수는 <code>useEffect</code> 에 대한 뒷정리(?)를 해주는데 <code>deps</code>가 비어있는 경우 컴포넌트가 사라질 때 호출 되어 <code>componentDidUnMount</code> 역할을 한다고 이해하면 될 것 같다.</p>\n<p>마운트 시에 주로하는 작업</p>\n<ul>\n<li><code>props</code> 로 받은 컴포넌트의 로컬 상태로 설정</li>\n<li>외부 API 요청 (REST API 등)</li>\n<li><mark>라이브러리 사용</mark> (D3, Video.js 등)</li>\n<li>setInterval 을 통한 반복작업 혹은 setTimeout 을 통한 작업 예약</li>\n</ul>\n<p>언마운트 시에 하는 작업</p>\n<ul>\n<li>setInterval, setTimeout 을 사용하여 등록한 작업들 clear 하기 (clearInterval, clearTimeout)</li>\n<li>라이브러리 인스턴스 제거</li>\n</ul>\n<h2>deps에 특정 조건 넣기</h2>\n<p>배열에 요소가 있으면 <code>componentDidMount</code> + <code>componentDidUpdate</code> 역할을 한다.<br/>\n이런 경우 컴포넌트가 <strong>처음 마운트 될 때, 지정한 값이 바뀔 때, 언마운트 될 때</strong> 호출 된다.<br/>\n<code>useEffect</code> 안에서 사용하는 <code>props</code>가 있는 경우 <code>useEffect</code>의 <code>deps</code>에 넣어줘야한다. 그렇지 않으면 <code>props</code> 가 최신 상태를 유지하지 못하여 <code>state</code>관리가 어려워질 수 있다.</p>\n<p>배열(<code>deps</code>) 인자에 <code>state</code> 말고도 모든 업데이트 조건 추가 가능하다는거 !!</p>\n<h2>deps 파라미터 생략하기</h2>\n<p><code>deps</code> 를 생략하는 경우 컴포넌트가 리렌더링 될 때 마다 호출된다.</p>","frontmatter":{"title":"useEffect","date":"2021년 9월 25일 오후 10:37","categories":["React"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVQoz2PY9Hzrf2piBnySG59tIcgmykCQBpgmdM24xIl24Zbn28H0+mebCBqG10CYplPvzvw//e4smD7+9iTcArIN3PZi5/9dL/f+3/fqwP+dL3eTH4YwevPzbf/3vz74f//rQ2DDNzzbTF4YoscqRbGMTyM+wwgaSE7CBgD4dpVV60TizAAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/5dcf8c8c9c73f2dd1052f5dceac248d9/fdc73/useEffect.png","srcSet":"/static/5dcf8c8c9c73f2dd1052f5dceac248d9/3d9cb/useEffect.png 183w,\n/static/5dcf8c8c9c73f2dd1052f5dceac248d9/e9c2e/useEffect.png 365w,\n/static/5dcf8c8c9c73f2dd1052f5dceac248d9/fdc73/useEffect.png 730w,\n/static/5dcf8c8c9c73f2dd1052f5dceac248d9/f1fe2/useEffect.png 1460w","sizes":"(min-width: 730px) 730px, 100vw"},"sources":[{"srcSet":"/static/5dcf8c8c9c73f2dd1052f5dceac248d9/80a11/useEffect.webp 183w,\n/static/5dcf8c8c9c73f2dd1052f5dceac248d9/2e3bd/useEffect.webp 365w,\n/static/5dcf8c8c9c73f2dd1052f5dceac248d9/e25d7/useEffect.webp 730w,\n/static/5dcf8c8c9c73f2dd1052f5dceac248d9/49049/useEffect.webp 1460w","type":"image/webp","sizes":"(min-width: 730px) 730px, 100vw"}]},"width":730,"height":382}}}},"timeToRead":1}}]}},"pageContext":{"slug":"/react/useEffect/"}},
    "staticQueryHashes": ["3764592887"]}